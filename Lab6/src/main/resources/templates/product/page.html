<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Pagination</title>
  <!-- Link Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<div class="container py-4">
  <h3 class="text-center text-primary mb-4 fw-bold">Product Pagination</h3>

  <div class="card shadow-sm">
    <div class="card-body">
      <table class="table table-hover align-middle text-center">
        <thead class="table-primary">
        <tr>
          <th>Id</th>
          <th>Name</th>
          <th>Price</th>
          <th>Date</th>
        </tr>
        </thead>
        <tbody>
        <th:block th:each="item: ${page.content}">
          <tr>
            <td th:text="${item.id}"></td>
            <td th:text="${item.name}"></td>
            <td th:text="${#numbers.formatDecimal(item.price, 1, 'COMMA', 2, 'POINT')} + ' ₫'"></td>
            <td th:text="${#dates.format(item.createDate, 'dd/MM/yyyy')}"></td>
          </tr>
        </th:block>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Pagination Buttons -->
  <nav class="mt-4">
    <ul class="pagination justify-content-center">
      <li class="page-item" th:classappend="${page.first}? 'disabled'">
        <a class="page-link" th:href="@{|/product/page?p=0|}">First</a>
      </li>
      <li class="page-item" th:if="${!page.first}">
        <a class="page-link" th:href="@{|/product/page?p=${page.number - 1}|}">Previous</a>
      </li>

      <!-- Hiển thị số trang -->
      <th:block th:each="i : ${#numbers.sequence(0, page.totalPages - 1)}">
        <li class="page-item" th:classappend="${page.number == i}? 'active'">
          <a class="page-link" th:href="@{|/product/page?p=${i}|}" th:text="${i + 1}"></a>
        </li>
      </th:block>

      <li class="page-item" th:if="${!page.last}">
        <a class="page-link" th:href="@{|/product/page?p=${page.number + 1}|}">Next</a>
      </li>
      <li class="page-item" th:classappend="${page.last}? 'disabled'">
        <a class="page-link" th:href="@{|/product/page?p=${page.totalPages - 1}|}">Last</a>
      </li>
    </ul>
  </nav>

  <!-- Thông tin trang -->
  <div class="mt-3 text-center">
    <ul class="list-group list-group-flush d-inline-block text-start">
      <li class="list-group-item"><strong>Số thực thể hiện tại:</strong> [[${page.numberOfElements}]]</li>
      <li class="list-group-item"><strong>Trang số:</strong> [[${page.number + 1}]] / [[${page.totalPages}]]</li>
      <li class="list-group-item"><strong>Kích thước trang:</strong> [[${page.size}]]</li>
      <li class="list-group-item"><strong>Tổng số thực thể:</strong> [[${page.totalElements}]]</li>
    </ul>
  </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>